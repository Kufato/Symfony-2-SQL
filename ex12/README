#########################################
#               CREATION                #
#########################################

# 1. Créer un nouveau projet Symfony
symfony new ex12 --webapp

# 2. Aller dans le dossier du projet
cd ex12

# 3. Creer la BDD
php bin/console doctrine:database:create

# 4. Creer les entitées
php bin/console make:entity Category
php bin/console make:entity Product

# 5. Creer et executer la migration
php bin/console make:migration
php bin/console doctrine:migrations:migrate

# 6. Verifier la migration
php bin/console doctrine:schema:validate

# 7. Fixture pour les categories
composer require --dev doctrine/doctrine-fixtures-bundle
php bin/console make:fixture AppFixtures

# 8.
php bin/console doctrine:fixtures:load

# 9. Créer le contrôleur principal
bin/console make:controller Ex12Controller


#########################################
#               EXECUTION               #
#########################################

# 1. Verifier si Composer a installer toutes les dependances
composer install

# 2. Nettoyer le cache
bin/console cache:clear

# 3. Verifier les routes
bin/console debug:router

# 4. Lancer le site (http://127.0.0.1:8000)
symfony serve